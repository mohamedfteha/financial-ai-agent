<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinanceGPT Demo - AI Chat Interface</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .chat-container {
            height: 500px;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            overflow-y: auto;
            background: #f8f9fa;
        }
        .user-message {
            background: #007bff;
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            margin: 10px 0;
            margin-left: 20%;
            text-align: right;
        }
        .ai-message {
            background: #28a745;
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            margin: 10px 0;
            margin-right: 20%;
        }
        .loading {
            display: none;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-chart-line"></i> FinanceGPT Demo
            </a>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <h2 class="text-center mb-4">
                    <i class="fas fa-robot"></i> AI Financial Analyst Chat
                </h2>
                
                <!-- Chat Interface -->
                <div class="chat-container" id="chat-messages">
                    <div class="ai-message">
                        <i class="fas fa-robot"></i> Hello! I'm your AI financial analyst powered by Amazon Bedrock & Claude Sonnet. Ask me about stocks, market analysis, or portfolio optimization!
                    </div>
                </div>
                
                <!-- Input Section -->
                <div class="input-group mb-3">
                    <input type="text" class="form-control" id="user-input" 
                           placeholder="Ask about Apple stock, market sentiment, portfolio analysis..." 
                           onkeypress="handleKeyPress(event)">
                    <button class="btn btn-primary" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i> Ask AI
                    </button>
                </div>
                
                <!-- Loading -->
                <div class="loading text-center" id="loading">
                    <div class="spinner-border text-primary"></div>
                    <p class="mt-2">AI is analyzing...</p>
                </div>
                
                <!-- Quick Actions -->
                <div class="row mt-4">
                    <div class="col-md-4">
                        <button class="btn btn-outline-primary w-100" onclick="analyzeStock()">
                            <i class="fas fa-apple-alt"></i> Analyze Apple
                        </button>
                    </div>
                    <div class="col-md-4">
                        <button class="btn btn-outline-success w-100" onclick="generateReport()">
                            <i class="fas fa-file-excel"></i> Generate Report
                        </button>
                    </div>
                    <div class="col-md-4">
                        <button class="btn btn-outline-info w-100" onclick="marketSentiment()">
                            <i class="fas fa-chart-bar"></i> Market Sentiment
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let isLoading = false;

        function sendMessage() {
            const input = document.getElementById('user-input');
            const message = input.value.trim();
            
            if (!message || isLoading) return;
            
            addMessage('user', message);
            input.value = '';
            showLoading(true);
            
            setTimeout(() => {
                const response = getDemoResponse(message);
                addMessage('ai', response);
                showLoading(false);
            }, 1500);
        }

        function getDemoResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            if (lowerMessage.includes('apple') || lowerMessage.includes('aapl')) {
                return `ðŸ“Š **Apple Inc. (AAPL) Analysis**\n\n**Current Price**: $150.25 (+2.5%)\n**Market Cap**: $2.4T\n**P/E Ratio**: 28.5\n\n**AI Analysis**: Strong fundamentals with robust iPhone sales. Trading near resistance at $152.\n\n**Recommendation**: BUY - Target $165\n**Risk Level**: Medium\n\n*Powered by Claude Sonnet via Amazon Bedrock*`;
            }
            
            if (lowerMessage.includes('market') && lowerMessage.includes('sentiment')) {
                return `ðŸ“ˆ **Market Sentiment Analysis**\n\n**Overall Sentiment**: Cautiously Optimistic (7.2/10)\n**Fear & Greed Index**: 65 (Greed)\n**VIX Level**: 18.5 (Low volatility)\n\n**Key Factors**:\nâ€¢ Fed policy expectations\nâ€¢ Strong earnings season\nâ€¢ Geopolitical tensions\n\n**Recommendation**: Diversified approach with defensive positions`;
            }
            
            return `ðŸ¤– **AI Financial Analysis**\n\nI can help with:\nâ€¢ Stock Analysis (fundamental & technical)\nâ€¢ Market Research & forecasts\nâ€¢ Portfolio optimization\nâ€¢ Professional report generation\n\nTry asking:\n- "Analyze Tesla stock"\n- "What's the market outlook?"\n- "Generate a market report"\n\n*Demo powered by Amazon Bedrock & Claude Sonnet*`;
        }

        function addMessage(sender, text) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = sender === 'user' ? 'user-message' : 'ai-message';
            messageDiv.innerHTML = text.replace(/\n/g, '<br>').replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showLoading(show) {
            isLoading = show;
            document.getElementById('loading').style.display = show ? 'block' : 'none';
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') sendMessage();
        }

        function analyzeStock() {
            document.getElementById('user-input').value = 'Analyze Apple stock';
            sendMessage();
        }

        function generateReport() {
            addMessage('user', 'Generate financial report');
            showLoading(true);
            setTimeout(() => {
                addMessage('ai', 'ðŸ“Š **Sample Report Generated!**\n\n**Report Type**: Market Analysis\n**Format**: Excel with charts\n**Data Points**: 50+ metrics\n\n**Contents**:\nâ€¢ Executive Summary\nâ€¢ Real-time market data\nâ€¢ Technical analysis\nâ€¢ AI recommendations\n\n*In production: Real Excel download with live data*');
                showLoading(false);
            }, 2000);
        }

        function marketSentiment() {
            document.getElementById('user-input').value = 'What is the current market sentiment?';
            sendMessage();
        }
    </script>
</body>
</html>